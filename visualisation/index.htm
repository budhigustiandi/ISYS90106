<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Project RATIH Main Page</title>
	<link rel="stylesheet" href="main.css">
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css"
   integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
   crossorigin="">
	<script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"
   integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw=="
   crossorigin=""></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
</head>
<body>
<p>Click <a href="https://scratchpad.sensorup.com/OGCSensorThings/v1.0/Things(1684190)?$expand=Locations,Datastreams" target="_blank"><button>here</button></a> to show data in JSON format</p>
	<h1>Thing</h1>
	<p><span class="bold">ID in the server: </span>1684190</p>
	<p><span class="bold">Name: </span><span id="thing_name"></span></p>
	<p><span class="bold">Description: </span><span id="thing_description"></span></p>
	<p><span class="bold">Properties: </span><span id="thing_property"></span></p>
	<a href="read_update_thing.htm"><button>Update Thing</button></a>
	<h1>Location</h1>
	<p><span class="bold">Name: </span><span id="location_name"></span></p>
	<p><span class="bold">Description: </span><span id="location_description"></span></p>
	<p><span class="bold">Encoding: </span><span id="location_encoding"></span></p>
	<p><span class="bold">Type: </span><span id="location_type"></span></p>
	<p><span class="bold">Location: </span></p>
	<ul>
		<li><span class="bold">Longitude: </span><span id="location_longitude"></span></li>
		<li><span class="bold">Latitude: </span><span id="location_latitude"></li>
	</ul>
	<div id="mapid"></div>
	<script>
		var thing = $.ajax({
			url: "https://scratchpad.sensorup.com/OGCSensorThings/v1.0/Things(1684190)?$expand=Locations,Datastreams",
			type: "GET",
			contentType: "application/json; charset=utf-8",
			success: function(data){
				console.log("Thing Name: " + thing.responseJSON.name);
				document.querySelector("#thing_name").textContent = thing.responseJSON.name;
				console.log("Thing Description: " + thing.responseJSON.description);
				document.querySelector("#thing_description").textContent = thing.responseJSON.description;
				console.log("Thing Properties: " + JSON.stringify(thing.responseJSON.properties));
				document.querySelector("#thing_property").textContent = JSON.stringify(thing.responseJSON.properties);
				var location = JSON.stringify(thing.responseJSON.Locations);
				location = location.slice(1,location.length-1);
				console.log("Location: " + location);
				location = JSON.parse(location);
				console.log("Location Name: " + location.name);
				document.querySelector("#location_name").textContent = location.name;
				console.log("Location Description: " + location.description);
				document.querySelector("#location_description").textContent = location.description;
				console.log("Location Encoding: " + location.encodingType);
				document.querySelector("#location_encoding").textContent = location.encodingType;
				console.log("Location Type: " + location.location.type);
				document.querySelector("#location_type").textContent = location.location.type;
				var location_longitude = location.location.coordinates[0];
				console.log("Location Longitude: " + location_longitude);
				document.querySelector("#location_longitude").textContent = location_longitude;
				var location_latitude = location.location.coordinates[1];
				console.log("Location Latitude: " + location_latitude);
				document.querySelector("#location_latitude").textContent = location_latitude;
				var mymap = L.map('mapid').setView([location_latitude, location_longitude], 17);
				L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
					attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="http://mapbox.com">Mapbox</a>',
					maxZoom: 18,
					id: 'mapbox.streets'
				}).addTo(mymap);
				var marker = L.marker([location_latitude, location_longitude]).addTo(mymap);
				marker.bindPopup("Thing's location.").openPopup();
			},
			error: function(response, status){
				console.log(response);
				console.log(status);
			}
		});
	</script>
	<h1>Datastream</h1>
<h2>Room Temperature <span>show <a href="datastream_1684195_chart.htm" target="_blank">chart</a> | <a href="datastream_1684195_gauge.htm" target="_blank">gauge</a></span></h2>
		<p><span class="bold">ID: </span>1684195</p>
		<p><span class="bold">Description: </span>Datastream for recording temperature</p>
		<p><span class="bold">Observation Type: </span>http://www.opengis.net/def/observationType/OGC-OM/2.0/OM_Measurement</p>
		<p><span class="bold">Unit of Measurement: </span>Degree Celcius</p>
		<p><span class="bold">Symbol: </span>degC</p>
		<p><span class="bold">Definition: </span>http://www.qudt.org/qudt/owl/1.0.0/unit/Instances.html#DegreeCelcius</p>
<h3>Observed Property</h3>
			<ul>
				<li><span class="bold">Name: </span>Area Temperature</li>
				<li><span class="bold">Description: </span>A physical quantity expressing hot and cold</li>
				<li><span class="bold">Definition: </span>http://www.qudt.org/qudt/owl/1.0.0/quantity/Instances.html#AreaTemperature</li>
			</ul>
<h3>Sensor</h3>
			<ul>
				<li><span class="bold">Name: </span>DHT11</li>
				<li><span class="bold">Description: </span>DHT11 temperature and humidity module</li>
				<li><span class="bold">Encoding Type: </span>application/pdf</li>
				<li><span class="bold">Metadata: </span>https://akizukidenshi.com/download/ds/aosong/DHT11.pdf</li>
			</ul>
<h2>Room Humidity <span>show <a href="datastream_1684198_chart.htm" target="_blank">chart</a> | <a href="datastream_1684198_gauge.htm" target="_blank">gauge</a></span></h2>
		<p><span class="bold">ID: </span>1684198</p>
		<p><span class="bold">Description: </span>Datastream for recording humidity</p>
		<p><span class="bold">Observation Type: </span>http://www.opengis.net/def/observationType/OGC-OM/2.0/OM_Measurement</p>
		<p><span class="bold">Unit of Measurement: </span>Percentage</p>
		<p><span class="bold">Symbol: </span>%</p>
		<p><span class="bold">Definition: </span>1 part of 100</p>
<h3>Observed Property</h3>
			<ul>
				<li><span class="bold">Name: </span>Absolute Humidity</li>
				<li><span class="bold">Description: </span>Absolute humidity is the mass of water in a particular volume of air. It is a measure of the density of water vapor in an atmosphere.</li>
				<li><span class="bold">Definition: </span>http://www.qudt.org/qudt/owl/1.0.0/quantity/Instances.html#AbsoluteHumidity</li>
			</ul>
<h3>Sensor</h3>
			<ul>
				<li><span class="bold">Name: </span>DHT11</li>
				<li><span class="bold">Description: </span>DHT11 temperature and humidity module</li>
				<li><span class="bold">Encoding Type: </span>application/pdf</li>
				<li><span class="bold">Metadata: </span>https://akizukidenshi.com/download/ds/aosong/DHT11.pdf</li>
			</ul>
<h2>Room Light Intensity <span>show <a href="datastream_1684201_chart.htm" target="_blank">chart</a> | <a href="datastream_1684201_gauge.htm" target="_blank">gauge</a></span></h2>
		<p><span class="bold">ID: </span>1684201</p>
		<p><span class="bold">Description: </span>Datastream for recording light intensity</p>
		<p><span class="bold">Observation Type: </span>http://www.opengis.net/def/observationType/OGC-OM/2.0/OM_Measurement</p>
		<p><span class="bold">Unit of Measurement: </span>Lux</p>
		<p><span class="bold">Symbol: </span>lx</p>
		<p><span class="bold">Definition: </span>http://www.qudt.org/qudt/owl/1.0.0/unit/Instances.html#Lux</p>
<h3>Observed Property</h3>
			<ul>
				<li><span class="bold">Name: </span>Luminous Flux</li>
				<li><span class="bold">Description: </span>Luminous Flux or Luminous Power is the measure of the perceived power of light. It differs from radiant flux, the measure of the total power of light emitted, in that luminous flux is adjusted to reflect the varying sensitivity of the human eye to different wavelengths of light.</li>
				<li><span class="bold">Definition: </span>http://www.qudt.org/qudt/owl/1.0.0/quantity/Instances.html#LuminousFlux</li>
			</ul>
<h3>Sensor</h3>
			<ul>
				<li><span class="bold">Name: </span>Photoresistor Light Sensor</li>
				<li><span class="bold">Description: </span>A Light Sensor is something that can be used to detect the current ambient light level - i.e. how bright/dark it is. It changes its resistance based on the amount of light that falls upon it.</li>
				<li><span class="bold">Encoding Type: </span>application/html</li>
				<li><span class="bold">Metadata: </span>http://education.rec.ri.cmu.edu/content/electronics/boe/light_sensor/1.html</li>
			</ul>
</body>
</html>
